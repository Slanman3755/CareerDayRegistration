<head>
  <title>Career Conference Registration</title>
</head>

<template name="main">
    {{> yield}}
</template>

<template name="home">
    <h1 id='hometext'>Career Conference</h1>
    <a href="{{pathFor 'register'}}"><h3>Click here to register!</h3></a>
    <nav><a href="{{pathFor 'roster'}}">Admin</a></nav>
</template>

<template name="success">
    <h1>You have succesfully registered for the Career Conference!</h1>
    <nav><a href="{{pathFor 'home'}}">Home</a></nav>
</template>

<template name="admin">
    <div><h2>Administrative Control Panel</h2></div>
    {{#if currentUser}}
        <div>
            Logged in as {{getCurrentUsername}}
            <input type="submit" name="signout" value="Sign out" class="signout">
        </div>
    {{/if}}
    <table>
        <tr>
            <td><a href="{{pathFor 'roster'}}"><h3>Roster</h3></a></td>
            <td><a href="{{pathFor 'schedule'}}"><h3>Schedule</h3></a></td>
            <td><a href="{{pathFor 'print'}}"><h3>Print</h3></a></td>
            <td><a href="{{pathFor 'controls'}}"><h3>Controls</h3></a></td>
       </tr>
    </table>
    {{#if currentUser}}
        <div>
            {{> yield}}
        </div> 
    {{else}}
        <table>
            <tr>
                <td>Username:</td>
                <td><input type="text" value="" name="username" id="username" class="username"></td>
            </tr>
            <tr>
                <td>Password:</td>
                <td><input type="password"  value="" name="password" id="password" class="password"></td>
            </tr>
            <tr>
                <input type="submit" value="Login" name="login" class="login">
            </tr>
        </table>
    {{/if}}
    <nav><a href="{{pathFor 'home'}}">Home</a></nav>
</template>

<template name="register">
    <div>{{> form}}</div>
    <nav><a href="{{pathFor 'home'}}">Home</a></nav>
</template>

<template name="form">
  <h1>Welcome to Career Conference Registration</h1>
  <table>
	<tr>
		<td><h4>First Name</h4></td>
		<td><input type="text" value="" name="fname" id="fname" class="fname"></td>
	</tr>
	<tr>
		<td><h4>Last Name</h4></td>
		<td><input type="text" value="" name="lname" id="lname" class="lname"></td>
	</tr>
	<tr>
		<td><h4>School</h4></td>
		<td><select name="schoolselect" id="schoolselect" class="schoolselect">
			<option value="none">Select a school</option>
			{{#each schools}}
				{{> schooloption}}
			{{/each}}
		</select></td>
	</tr>
	<tr>
		<td><h4>Choose 3 classes</h4></td>
	</tr>
	{{#each classes}}
		{{> classlist}}
	{{/each}}
	<tr>
		<td><input type="submit" name="register" value="Register" class="register"/></td>
		<td><h4 id="alert">{{RegisterMsg}}</h4></td>
	</tr>
  </table>
</template>

<template name="tabs">
</template>

<template name="roster">
	<table>
		<thead>
		<tr>
			<td>First Name</td>
			<td>Last Name</td>
			<td>School</td>
			{{#each classesheader}}
				<td>Class {{.}}</td>
			{{/each}}
            <td>Time</td>
		</tr>
		</thead>
		<tbody>
		{{#each students}}
		<tr>
			<td>{{fname}}</td>
			<td>{{lname}}</td>
			<td>{{schoolname}}</td>
			{{#each classnames}}
				<td>{{.}}</td>
			{{/each}}
            <td>{{time}}</td>
		</tr>
		{{/each}}
	</tbody>
	</table>
</template>

<template name="schedule">
    Schedule
</template>

<template name="print">
    <input type="submit" value="Get CSV File" name="getcsv" id="getcsv" class="getcsv">
</template>

<template name="controls">
    Controls
</template>

<template name="classlist">
	<tr>
		<td><input type="checkbox" data-meteor-id="{{_id}}" class="classcheck" id="{{classname}}">{{classname}}</td>
		<td>{{livecount classname}}/30</td>
	</tr>
</template>

<template name="schooloption">
	<option value="{{schoolname}}">{{schoolname}}</option>
</template>


